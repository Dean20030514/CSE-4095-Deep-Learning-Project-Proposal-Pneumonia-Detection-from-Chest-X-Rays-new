# Medical Screening Configuration
# Optimized for maximum pneumonia recall (sensitivity)
# Minimizes false negatives - critical for medical triage

# Model Architecture
model: resnet18  # Fast and reliable
pretrained: true

# Data
data_root: data
img_size: 384
batch_size: 16
num_workers: 4

# Training
epochs: 30
lr: 0.001
weight_decay: 0.0001
patience: 10

# Loss & Sampling - Heavily weighted for pneumonia class
loss: focal
focal_gamma: 2.0  # Higher gamma to focus on hard cases
use_weighted_sampler: true
class_weights: [1.0, 3.0]  # [NORMAL, PNEUMONIA] - prioritize pneumonia

# Augmentation (light - preserve medical features)
augmentation:
  horizontal_flip: 0.3
  rotation_degrees: 5
  brightness: 0.05
  contrast: 0.05
  
# Optimizer
optimizer: adamw
scheduler: cosine
warmup_epochs: 3

# Mixed Precision
amp: true

# Output
output_dir: runs/medical_screening_resnet18
save_best_only: false

# Evaluation threshold
# Note: Use threshold_sweep.py to find optimal threshold (<0.5 for max recall)
eval_threshold: 0.3  # Lower threshold for higher sensitivity

# Random seed
seed: 42

# Notes:
# - This config prioritizes recall over precision
# - Suitable for initial screening/triage only
# - NOT for diagnostic use - requires follow-up confirmation
# - Threshold can be adjusted post-training via threshold sweep
